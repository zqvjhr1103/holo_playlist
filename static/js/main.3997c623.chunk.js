(this.webpackJsonpholo_playlist=this.webpackJsonpholo_playlist||[]).push([[0],{68:function(t,e,a){},69:function(t,e,a){},75:function(t,e,a){},90:function(t,e,a){"use strict";a.r(e);var s=a(0),i=a(8),n=a.n(i),l=(a(68),a(20)),c=a(21),o=a(23),r=a(22),p=(a(69),a(121)),u=a(32),d=a(6),h=a(116),y=a(119),j=a(120),b=a(2),g=Object(d.a)((function(t){return{root:{}}}))((function(t){var e=t.classes;return Object(b.jsx)("div",{className:e.root,children:Object(b.jsx)(h.a,{children:Object(b.jsx)(y.a,{button:!0,onClick:function(e){return t.onEventSelectList()},children:Object(b.jsx)(j.a,{primary:t.listName})})})})})),f=(a(75),a(50)),x=a(128),m=a(124),O=a(122),k=a(123),v=a(55),N=a.n(v),L=a(91),C=a(53),S=a.n(C),D=a(54),I=a.n(D),P=function(t,e){return"Next"===e.type?Object(b.jsxs)("div",{className:t.paper,onClick:function(){e.onClickBackNext()},children:[Object(b.jsx)(u.a,{className:t.typography,children:e.type}),Object(b.jsx)(S.a,{})]}):"Back"===e.type?Object(b.jsxs)("div",{className:t.paper,onClick:function(){e.onClickBackNext()},children:[Object(b.jsx)(I.a,{}),Object(b.jsx)(u.a,{className:t.typography,children:e.type})]}):void 0},w=Object(d.a)((function(t){return{root:{display:"flex",justifyContent:"center"},input:{display:"none"},paper:{display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgb(245, 245, 245)",width:"60px",height:"20px",padding:"7px"},typography:{},icon:{}}}))((function(t){var e=t.classes;return Object(b.jsx)("div",{className:e.root,children:Object(b.jsx)(L.a,{children:P(e,t)})})})),A=function(t){Object(o.a)(a,t);var e=Object(r.a)(a);function a(t){var s;return Object(l.a)(this,a),(s=e.call(this,t)).state={ua:window.navigator.userAgent.toLowerCase(),isPlaying:!0,videoID:null,opts:{height:"180",width:"320"},currentIndex:-1},s}return Object(c.a)(a,[{key:"playStart",value:function(){this.setState({isPlaying:!0})}},{key:"playStop",value:function(){this.setState({isPlaying:!1})}},{key:"setMusic",value:function(t){this.setState({musicName:this.props.playList[t].musicName,videoID:this.props.playList[t].videoID,opts:{height:"180",width:"320",playerVars:{autoplay:1,disablekb:1,enablejsapi:1,fs:0,iv_load_policy:3,modestbranding:1,playsinline:1,rel:0,showinfo:0,start:this.props.playList[t].startTime,end:this.props.playList[t].endTime}},currentIndex:t})}},{key:"_onReady",value:function(t){return console.debug("onReady. Length:"+t.target.getDuration()),console.debug("isPlay is "+this.state.isPlaying),!0===this.state.isPlaying?(this.playStop(),void this.setMusic(0)):(this.playStart(),-1===this.state.ua.indexOf("iphone")&&-1===this.state.ua.indexOf("ipad")?(console.debug("Not iOS process"),t.target.playVideo(),t.target.setPlaybackQuality("small"),void t.target.setVolume(50)):(console.debug("iOS process"),t.target.mute(),t.target.playVideo(),t.target.setPlaybackQuality("small"),t.target.setVolume(50),void t.target.seekTo(this.state.opts.playerVars.end-1)))}},{key:"_onError",value:function(t){console.debug("onError")}},{key:"_onApiChange",value:function(t){console.debug("onApiChange")}},{key:"_onStateChange",value:function(t,e){if(console.debug("onStateChange:"+t.data),0===t.data){if((-1!==this.state.ua.indexOf("iphone")||-1!==this.state.ua.indexOf("ipad"))&&!0===t.target.isMuted())return t.target.unMute(),t.target.seekTo(this.state.opts.playerVars.start),void t.target.playVideo();this.playStop(),this.props.playList.length===e+1?this.setMusic(0):this.setMusic(e+1)}}},{key:"onClickBackNext",value:function(t){this.playStop(),"Back"===t&&(-1===this.state.currentIndex-1?this.setMusic(this.props.playList.length-1):this.setMusic(this.state.currentIndex-1)),"Next"===t&&(this.props.playList.length===this.state.currentIndex+1?this.setMusic(0):this.setMusic(this.state.currentIndex+1))}},{key:"render",value:function(){var t=this;return Object(b.jsxs)(x.a,{fullScreen:!0,open:this.props.open,onClose:this.props.onClose,scroll:"paper",disableBackdropClick:"false",disableEscapeKeyDown:"false",children:[Object(b.jsxs)("div",{id:"dialog-top",children:[Object(b.jsx)(p.a,{position:"fixed",color:"default",children:Object(b.jsxs)(O.a,{children:[Object(b.jsx)(k.a,{edge:"start",color:"inherit",onClick:this.props.onClose,children:Object(b.jsx)(N.a,{})}),Object(b.jsx)(u.a,{variant:"h6",children:this.props.playListName})]})}),Object(b.jsx)(O.a,{})]}),Object(b.jsx)("div",{className:"playPlayList-youtube",children:Object(b.jsxs)(m.a,{dividers:"true",children:[Object(b.jsx)(f.a,{videoId:this.state.videoID,opts:this.state.opts,onReady:function(e){t._onReady(e,t.state.playList)},onError:this._onError,onApiChange:this._onApiChange,onStateChange:function(e){t._onStateChange(e,t.state.currentIndex)}}),Object(b.jsxs)("div",{className:"playPlayList-button",children:[Object(b.jsx)(w,{type:"Back",onClickBackNext:function(){t.onClickBackNext("Back")}}),this.state.musicName,Object(b.jsx)(w,{type:"Next",onClickBackNext:function(){t.onClickBackNext("Next")}})]}),this.props.playList.map((function(e,a){return Object(b.jsx)(g,{listName:e.musicName,onEventSelectList:function(){document.getElementById("dialog-top").scrollIntoView(!0),t.playStop(),t.setMusic(a)}})}))]})})]})}}]),a}(s.Component),E=function(t){Object(o.a)(a,t);var e=Object(r.a)(a);function a(t){var s;return Object(l.a)(this,a),(s=e.call(this,t)).state={readYoutubeFlag:!1,playFlag:!1,playListName:null,playList:[{musicName:null,videoID:null,startTime:null,endTime:null}]},s}return Object(c.a)(a,[{key:"handleClickPlayFlag",value:function(){this.setState({readYoutubeFlag:!this.state.readYoutubeFlag,playFlag:!this.state.playFlag})}},{key:"arrayShuffle",value:function(t){for(var e=t.length-1;0<e;e--){var a=Math.floor(Math.random()*(e+1)),s=t[e];t[e]=t[a],t[a]=s}return t}},{key:"selectPlayList",value:function(t){this.setState({playListName:this.props.playLists[t].playListName,playList:this.arrayShuffle(this.props.playLists[t].playList)})}},{key:"render",value:function(){var t=this;return Object(b.jsxs)("div",{children:[this.props.playLists.map((function(e,a){return Object(b.jsx)(g,{listName:e.playListName,onEventSelectList:function(){0!==e.playList.length&&(t.handleClickPlayFlag(),t.selectPlayList(a))}})})),Object(b.jsx)(A,{readYoutubeFlag:this.state.readYoutubeFlag,playListName:this.state.playListName,playList:this.state.playList,open:this.state.playFlag,onClose:function(){t.handleClickPlayFlag()}})]})}}]),a}(s.Component),F=a(56),_=a.n(F),B=Object(d.a)((function(t){return{root:{display:"flex",justifyContent:"center"},input:{display:"none"},paper:{display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgb(245, 245, 245)",width:"120px",height:"20px",padding:"7px"},typography:{},icon:{}}}))((function(t){var e=t.classes;return Object(b.jsxs)("div",{className:e.root,children:[Object(b.jsx)("input",{className:e.input,accept:"playlist",id:"contained-button-file",multiple:!0,type:"file",onChange:function(e){t.onClickAddPlayList(e)}}),Object(b.jsx)("label",{htmlFor:"contained-button-file",children:Object(b.jsxs)(L.a,{className:e.paper,children:[Object(b.jsx)(_.a,{className:e.icon}),Object(b.jsx)(u.a,{className:e.typography,children:"Add PlayList"})]})})]})})),M=a(127),T=a(126),V=a(125),R=a(57),Y=a.n(R),J=Object(d.a)((function(t){return{root:{display:"flex",justifyContent:"center"},input:{display:"none"},paper:{display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgb(245, 245, 245)",width:"100px",height:"20px",padding:"7px"},typography:{},icon:{}}}))((function(t){var e=t.classes;return Object(b.jsxs)("div",{className:e.root,children:[Object(b.jsxs)(L.a,{className:e.paper,onClick:function(){t.handleCheckDialog()},children:[Object(b.jsx)(Y.a,{className:e.icon}),Object(b.jsx)(u.a,{className:e.typography,children:"All Delete"})]}),Object(b.jsxs)(x.a,{open:t.flagCheckDialg,onClose:function(){t.handleCheckDialog()},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(b.jsx)(V.a,{id:"alert-dialog-title",children:"Delete all playlist?"}),Object(b.jsxs)(T.a,{children:[Object(b.jsx)(M.a,{onClick:function(){t.handleCheckDialog()},color:"primary",autoFocus:!0,children:"No"}),Object(b.jsx)(M.a,{onClick:function(){t.onClickDeleteAll()},color:"primary",children:"Yes"})]})]})]})})),X=function(t){Object(o.a)(a,t);var e=Object(r.a)(a);function a(t){var s;return Object(l.a)(this,a),(s=e.call(this,t)).state={flagCheckDialg:!1,playLists:JSON.parse(localStorage.getItem("playLists"))||[{playListName:"No playlist",playList:[]}]},s}return Object(c.a)(a,[{key:"addPlayList",value:function(t){var e=this,a=t.target.files,s=[];0!==this.state.playLists[0].playList.length&&(s=this.state.playLists),this.state.playLists.forEach((function(t,e){t.playListName===a[0].name.split(".")[0]&&s.splice(e,1)}));var i=[];if(a.length>0){var n=new FileReader;n.readAsText(a[0]),n.onload=function(t){var n=t.target.result.split("\n");if("dXpjSjhRWFpuZE1CNDdaU2E5V1hVR1l3NXRnaWljN1RzanNnektXVw0="===btoa(n[0])){n.shift();var l=!0;n.forEach((function(t){null!==t.match(/\bPLAYLIST_END_POINT\b/)&&(console.debug("Read PLAYLIST_END_POINT"),l=!1),!0===l&&i.push({musicName:t.split(",")[0],videoID:t.split(",")[1],startTime:t.split(",")[2],endTime:t.split(",")[3]})})),s.push({playListName:a[0].name.split(".")[0],playList:i}),e.setState({playLists:s}),localStorage.clear(),window.location.reload(),localStorage.setItem("playLists",JSON.stringify(s))}else console.debug("Password Incorrect")}}}},{key:"handleCheckDialog",value:function(){this.setState({flagCheckDialg:!this.state.flagCheckDialg})}},{key:"onClickDeleteAll",value:function(){this.setState({playLists:[{playListName:"No playlist",playList:[]}]}),localStorage.clear(),window.location.reload()}},{key:"render",value:function(){var t=this;return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)("header",{className:"App-header",children:Object(b.jsx)(p.a,{position:"static",color:"default",children:Object(b.jsx)(u.a,{variant:"h6",children:"Hololive Music PlayList"})})}),Object(b.jsxs)("main",{className:"App-main",children:[Object(b.jsx)(E,{playLists:this.state.playLists}),Object(b.jsxs)("div",{className:"App-button",children:[Object(b.jsx)(B,{onClickAddPlayList:function(e){t.addPlayList(e)}}),Object(b.jsx)(J,{handleCheckDialog:function(){t.handleCheckDialog()},onClickDeleteAll:function(){t.onClickDeleteAll()},flagCheckDialg:this.state.flagCheckDialg})]})]})]})}}]),a}(s.Component);n.a.render(Object(b.jsx)(X,{}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.3997c623.chunk.js.map